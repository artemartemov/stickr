var y=Object.defineProperty,R=Object.defineProperties,V=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertyNames,I=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var S=(e,o,t)=>o in e?y(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,T=(e,o)=>{for(var t in o||(o={}))E.call(o,t)&&S(e,t,o[t]);if(I)for(var t of I(o))U.call(o,t)&&S(e,t,o[t]);return e},w=(e,o)=>R(e,L(o));var x=(e,o)=>()=>(e&&(o=e(e=0)),o);var P=(e,o)=>{for(var t in o)y(e,t,{get:o[t],enumerable:!0})},H=(e,o,t,r)=>{if(o&&typeof o=="object"||typeof o=="function")for(let n of k(o))!E.call(e,n)&&n!==t&&y(e,n,{get:()=>o[n],enumerable:!(r=V(o,n))||r.enumerable});return e};var $=e=>H(y({},"__esModule",{value:!0}),e);function N(e,o){let t=`${b}`;return b+=1,u[t]={handler:o,name:e},function(){delete u[t]}}function O(e,o){let t=!1;for(let r in u)u[r].name===e&&(u[r].handler.apply(null,o),t=!0);if(t===!1)throw new Error(`No event handler with name \`${e}\``)}var u,b,h,_=x(()=>{u={},b=0;h=typeof window=="undefined"?function(e,...o){figma.ui.postMessage([e,...o])}:function(e,...o){window.parent.postMessage({pluginMessage:[e,...o]},"*")};typeof window=="undefined"?figma.ui.onmessage=function(e){if(!Array.isArray(e))return;let[o,...t]=e;typeof o=="string"&&O(o,t)}:window.onmessage=function(e){if(typeof e.data.pluginMessage=="undefined")return;let o=e.data.pluginMessage;if(!Array.isArray(o))return;let[t,...r]=e.data.pluginMessage;typeof t=="string"&&O(t,r)}});function A(e,o){if(typeof __html__=="undefined")throw new Error("No UI defined");let t=`<div id="create-figma-plugin"></div><script>document.body.classList.add('theme-${figma.editorType}');const __FIGMA_COMMAND__='${typeof figma.command=="undefined"?"":figma.command}';const __SHOW_UI_DATA__=${JSON.stringify(typeof o=="undefined"?{}:o)};${__html__}</script>`;figma.showUI(t,w(T({},e),{themeColors:typeof e.themeColors=="undefined"?!0:e.themeColors}))}var M=x(()=>{});var v=x(()=>{_();M()});var D={};P(D,{default:()=>G});function G(){A({height:720,width:480}),N("GENERATE_STICKER_SHEET",async t=>{try{console.log("Generating sticker sheet...",t),await j(t),figma.notify("Sticker sheet generated successfully!")}catch(r){console.error("Error:",r),figma.notify("Error generating sticker sheet")}});function e(){let t=[],r=figma.currentPage.selection;return r.length>0&&(t=r.filter(n=>n.type==="COMPONENT_SET")),t.map(n=>{let a={},s=n.componentPropertyDefinitions||{};Object.keys(s).forEach(c=>{let f=c.split("#")[0],m=s[c];a[f]||(a[f]={type:m.type,values:[]}),m.type==="VARIANT"&&m.variantOptions?a[f].values=m.variantOptions:m.type==="BOOLEAN"&&(a[f].values=["true","false"])});let i=Object.keys(a).sort((c,f)=>{let m={VARIANT:0,BOOLEAN:1,INSTANCE_SWAP:2,TEXT:3},d=a[c].type,p=a[f].type,l=m[d]!==void 0?m[d]:999,g=m[p]!==void 0?m[p]:999;return l!==g?l-g:c.localeCompare(f)});return{id:n.id,name:n.name,properties:a,propertyOrder:i,variantCount:n.children.length}})}let o=e();h("INIT_DATA",o),figma.on("selectionchange",()=>{let t=e();h("INIT_DATA",t)})}async function j(e){let{selectedCombinations:o,includeLightDark:t}=e,r=figma.createFrame();r.name="Component Sticker Sheet",r.layoutMode="VERTICAL",r.itemSpacing=40,r.paddingTop=40,r.paddingBottom=40,r.paddingLeft=40,r.paddingRight=40,r.fills=[{type:"SOLID",color:{r:.95,g:.95,b:.95}}];let n={};for(let a of o)n[a.componentSetId]||(n[a.componentSetId]=[]),n[a.componentSetId].push(a);for(let a in n){let s=n[a],i=figma.getNodeById(a);i&&(await B(r,i,s,!1),t&&await B(r,i,s,!0))}figma.currentPage.selection=[r],figma.viewport.scrollAndZoomIntoView([r])}async function B(e,o,t,r){let n=figma.createFrame();n.name=`${o.name} - ${r?"Dark":"Light"}`,n.layoutMode="VERTICAL",n.itemSpacing=20,n.fills=[];let a=figma.createText();await figma.loadFontAsync({family:"Inter",style:"Semi Bold"}),a.characters=n.name,a.fontSize=18,a.fontName={family:"Inter",style:"Semi Bold"},n.appendChild(a);let s=await W(o,t,r);n.appendChild(s),e.appendChild(n)}async function W(e,o,t){let r=figma.createFrame();r.name="Variant Grid",r.layoutMode="VERTICAL",r.itemSpacing=16,r.fills=[];let n={};for(let a of o){let s=a.properties,i=s[Object.keys(s)[0]]||"default";n[i]||(n[i]=[]),n[i].push(a)}for(let a in n){let s=n[a],i=figma.createFrame();i.name=`Row: ${a}`,i.layoutMode="HORIZONTAL",i.itemSpacing=16,i.fills=[];let c=figma.createText();await figma.loadFontAsync({family:"Inter",style:"Medium"}),c.characters=a,c.fontSize=12,c.fontName={family:"Inter",style:"Medium"},i.appendChild(c);for(let f of s){let d=e.children[0].createInstance();for(let p in f.properties){let l=f.properties[p],g=e.componentPropertyDefinitions;for(let C in g)if(C.split("#")[0]===p)try{d.setProperties({[C]:l})}catch(K){console.log("Could not set property:",p,l)}}i.appendChild(d)}r.appendChild(i)}return r}var F=x(()=>{"use strict";v()});var X={"src/main.ts--default":(F(),$(D)).default},z="src/main.ts--default";X[z]();
